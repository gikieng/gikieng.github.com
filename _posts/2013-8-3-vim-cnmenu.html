---
layout: post
title: "gvim中文菜单显示"
categories: linux
---
今天又是荒废了一天。
原本这篇文章早上就写好了，但是自己写的那个小东西有些东西没考虑到。比如fopen “w”参数会把原来的文章给删了重建；文件路径也有问题。增添了两行代码，修复了一下，不过现在用gvim转换成html文件，貌似那又得改了。

回归正题。看到浪哥用gvim把文章转换成html文件，我也想弄。于是我也下了gvim。发现没有没有菜单和工具栏。查了下修正方法如下：
打开菜单为：set guioptions+=m;
关闭菜单为：set guioptions-+m;
而工具栏为把m改为T；
下面是用<F2>来控制打开关闭菜单。

""Toggle Menu and Toolb
set guioptions-=m
set guioptions-=T
map <silent> <F2> :if &guioptions =~# 'T' <Bar>
\set guioptions-=T <Bar>
\else <Bar>
\set guioptions+=T <Bar>
\endif<CR>
---
修正菜单后发现不能显示中文。原因是vim的中文字符集设置跟系统不一样。把系统字符集链到vim上。方法：
---
cd /usr/share/vim/vim72/lang
sudo ln -s menu_zh_cn.utf-8.vim menu_zh_cn.utf8.vim
---
话说转换成html，我也弄了很久都不能通过，最后还是请教浪哥亲自来示范。

原本还要加上一些其他话的，不过写了两次都被误删了，这次不想加了。

